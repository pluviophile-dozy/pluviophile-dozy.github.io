<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <link rel="stylesheet" type="text/css" href="vendors/css/normalize.css">
        <link rel="stylesheet" type="text/css" href="vendors/css/grid.css">
        <link rel="stylesheet" type="text/css" href="vendors/css/ionicons.min.css">
        <link rel="stylesheet" type="text/css" href="vendors/css/animate.css">
        <link rel="stylesheet" type="text/css" href="static/css/index.css">
        <link rel="stylesheet" type="text/css" href="static/css/queries.css">
        <link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,300italic' rel='stylesheet' type='text/css'>
        <title>플루비오파일</title>
        
    </head>
    <body>
        <header>
            <nav>
                <div class="row logolol">
                    <a href="index.html"><img src="static/img/logo_plu_black.png" class="logo"></a>
                    <a href="index.html"><img src="static/img/logo_plu_black.png" alt="Omnifood logo" class="logo-black"></a>
                    <ul class="main-nav js--main-nav">
                        <li><a href="index.html">Main</a></li>
                        <li ><a href="about.html">About</a></li>
                        <li><a href="dozy.html">Dozy</a></li>
                        <li class="active_nav"><a href="as.html">A/S</a></li>
                        <li><a href="contact.html">COntact</a></li>
                        <li><a href="resource.html"><div class="res">resource</div></a></li>
                    </ul>
                    <a class="mobile-nav-icon js--nav-icon"><i class="ion-navicon-round"></i></a>
                </div>
            </nav>            
        </header>
        <section class="section-form">
            <div class="row js--wp-1">
                <h2>A/S ; 교환 문의</h2>
            </div>
            <div class="row js--wp-1">
                <form method="post" action="#" class="contact-form">
                    <div class="row">
                    <div class="title">
                    신청 전 확인해주세요! <br> </div>
                    <div class="as-content">
                    파손이나 불량품 교환시 발생하는 비용은 "플루비오파일"이 부담합니다. 제품 확인을 위한 포장 훼손 외에 제품의 가치가 훼손된 경우에는 교환 및 환불이 불가합니다.<br> <br>
<strong>파손이나 불량품 교환기준</strong> <br>
1. 봉제가 불량하여 뜯어진 경우 <br> 2. 지워지지 않는 오염이 있는 경우 <br> 3. 스피커가 작동이 안되거나 오작동하는 경우 <br> 4. 충전이 안되거나 충전케이블에 문제가 있는 경우 <br> 5. "플루비오파일"에서 배송지를 수정하여 배송사고가 발생할 경우 <br>
위 기준 외로 신청하는 경우 배송비는 구매자가 부담합니다. <br>
                        <br>
                        </div></div>
                    
                    <div class="row">
                        <div class="col span-1-of-3">
                            <label for="platform">구매 플랫폼</label>
                        </div>
                        <div class="col span-2-of-3">
                            <input type="text" name="platform" id="platform" placeholder="텀블벅" required>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col span-1-of-3">
                            <label for="name">이름</label>
                        </div>
                        <div class="col span-2-of-3">
                            <input type="text" name="name" id="name" placeholder="김도지" required>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col span-1-of-3">
                            <label for="tel">연락처</label>
                        </div>
                        <div class="col span-2-of-3">
                            <input type="text" name="tel" id="tel" placeholder="010-XXXX-XXXX" required>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col span-1-of-3">
                            <label>문의</label>
                        </div>
                        <div class="col span-2-of-3">
                            <input type="checkbox" name="as" id="as" checked> A/S 신청 <br>
                            <input type="checkbox" name="exchange" id="exchange"> 교환 신청
                        </div>
                    </div>
                    <div class="row">
                        <div class="col span-1-of-3">
                            <label>신청 사유</label>
                        </div>
                        <div class="col span-2-of-3">
                            <textarea name="message" placeholder=""></textarea>
                        </div>
                    </div>
<!--                    <div class="row">-->
<!--                        <div class="col span-1-of-3">-->
<!--                            <label>증빙자료 첨부</label>-->
<!--                        </div>-->
<!--                        <div class="col span-2-of-3">-->
<!--                            <input type="file" name="file" id="file">-->
<!--                        </div>-->
<!--                    </div>-->
                    <div class="row">
                    <div class="as-content send">신청 후 1 영업일 이내로 안내 문자를 보내드립니다.</div>
                    </div>
                    
                    <div class="row">
                        
                        <div class="col span-1-of-3">
                            <label>&nbsp;</label>
                        </div>
                        
                        <div class="col span-1-of-3 mid">
                            
                            <input type="button" onclick="sendEmail()" value="보내기">
                        </div>
                        <div class="col span-1-of-3"></div>
                    </div>
                </form>
                
            </div>
        </section>
        
                <footer>
            <div class="row foot">
                <div class="col span-1-of-2">
                    Copyright © Pluviophile All Rights Reserved
                </div>
                <div class="col span-1-of-2">
                    <ul class="social-links">
                        <li><a href="https://www.facebook.com/dozing_dozy-105121864754195/"><i class="ion-social-facebook"></i></a></li>
                        <li><a href="https://www.instagram.com/dozing_dozy/"><i class="ion-social-instagram"></i></a></li>
                    </ul>
                </div>
            </div>
        </footer>
    </body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="//cdn.jsdelivr.net/respond/1.4.2/respond.min.js"></script>
    <script src="//cdn.jsdelivr.net/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="//cdn.jsdelivr.net/selectivizr/1.0.3b/selectivizr.min.js"></script>
    <script src="vendors/js/jquery.waypoints.min.js"></script>
    <script src="static/js/script.js"></script>

    <script type="text/javascript"src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>
    <script type="text/javascript">
        // emailJS 사용하기 위한 초기화 작업
        (function() {
            emailjs.init("user_FHcm6IarN4nZTRxxaHUHd");
        })();

        // 이메일 보내기 함수
        function sendEmail() {

            // input 값 받아오기
            const platform = document.getElementsByName('platform')[0].value;
            const name = document.getElementsByName('name')[0].value;
            const tel = document.getElementsByName('tel')[0].value;
            const as = document.getElementsByName('as')[0].checked; // 체크박스는 true / false
            const exchange = document.getElementsByName('exchange')[0].checked; // 체크박스는 true / false
            const message = document.getElementsByName('message')[0].value;

            // 양식 검증 : 빈칸이 있는지 체크 + 이메일 양식 체크
            if(name === ''){
                alert('이름을 입력해 주세요.')
                return;
            }
            if(message === ''){
                alert('메시지 입력해 주세요.')
                return;
            }

            // emailJS로 보낼 파라미터 변수
            const templateParams = {
                platform,
                name,
                tel,
                as,
                exchange,
                message,
            }

            // emailJS 요청 보내기 / 응답 처리
            emailjs.send('service_lj34lrf', 'template_1f8am15', templateParams)
                .then((res) => {
                    // 성공
                    console.log('success :', res.text);

                    alert('메시지가 전송되었어요.');  // 확인 메시지
                    location.reload();  // 새로고침
                }, (err) => {
                    // 에러
                    console.log('error :', err);
                });
        }
    </script>
    
</html>